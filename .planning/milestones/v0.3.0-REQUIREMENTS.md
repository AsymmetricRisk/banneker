# Requirements Archive: v0.3.0 The Engineer

**Archived:** 2026-02-04
**Status:** SHIPPED

This is the archived requirements specification for v0.3.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v0.3.0 Requirements — The Engineer

### REQ-CLIFF: Cliff Detection

- [x] **CLIFF-01** (must): Detect explicit cliff signals during survey ("I don't know", "you decide", "take it from here", "whatever you think is best"). Source: v0.3.0 features research. *Outcome: 14 explicit signals implemented with HIGH confidence detection*
- [x] **CLIFF-02** (must): Require confirmation before mode switch — no silent takeover. Source: PITFALLS.md P1 prevention. *Outcome: Three-option confirmation flow (switch/continue/skip)*
- [x] **CLIFF-03** (should): Detect implicit cliff signals (hedging language, response quality drop, repeated deferrals). Source: v0.3.0 features research. *Outcome: 24 implicit signals across 3 categories with MEDIUM confidence*
- [x] **CLIFF-04** (should): Use compound signal detection (2+ signals required) to prevent false positives. Source: PITFALLS.md P1 prevention. *Outcome: Compound threshold across current + last 3 responses*

### REQ-ENGDOC: Engineer Document Generation

- [x] **ENGDOC-01** (must): Generate DIAGNOSIS.md identifying what is known, what is missing, and where gaps exist. Source: v0.3.0 output specification. *Outcome: DIAGNOSIS.md with Survey Overview, Handoff Context, Known Facts, Missing Information, Gap Analysis sections*
- [x] **ENGDOC-02** (must): Generate RECOMMENDATION.md with options analysis, trade-offs, and alternatives considered. Source: v0.3.0 output specification. *Outcome: RECOMMENDATION.md with options grouped by domain, trade-off tables, risk analysis*
- [x] **ENGDOC-03** (must): Generate ENGINEERING-PROPOSAL.md with concrete decisions in DEC-XXX format ready for approval. Source: v0.3.0 output specification. *Outcome: ADR format with Context, Decision, Rationale, Consequences, Alternatives, Confidence, Dependencies*
- [x] **ENGDOC-04** (must): Include confidence markers (HIGH/MEDIUM/LOW) on each recommendation with justification. Source: PITFALLS.md P4 prevention. *Outcome: Probabilistic ranges (85-90%, 50-85%, <50%) with survey gap citations*
- [x] **ENGDOC-05** (should): Enforce complexity ceiling — prevent over-engineering based on extracted constraints. Source: PITFALLS.md P2 prevention. *Outcome: Three levels (standard/minimal/enterprise), constraint extraction from survey, over-engineering warnings*
- [x] **ENGDOC-06** (should): Support research-on-demand (WebSearch) to fill knowledge gaps during synthesis. Source: v0.3.0 features research. *Outcome: 3 queries/session limit, technology comparisons prioritized, findings boost confidence*

### REQ-APPROVE: Approval Flow

- [x] **APPROVE-01** (must): Require explicit user approval before merging decisions to architecture-decisions.json. Source: ARCHITECTURE.md approval gate requirement. *Outcome: No auto-merge, all proposals marked "Proposed (awaiting approval)"*
- [x] **APPROVE-02** (must): Support per-decision granularity — user can approve/reject individual decisions. Source: v0.3.0 features research. *Outcome: Batch selection + per-decision y/n/e/s prompts*
- [x] **APPROVE-03** (must): Support edit-before-approve — user can modify proposed decisions before accepting. Source: v0.3.0 features research. *Outcome: $EDITOR integration with temp file + instructional comments*
- [x] **APPROVE-04** (should): Generate summary tables for quick review to reduce review fatigue. Source: FEATURES.md review fatigue mitigation. *Outcome: Grouped by domain with numbered indices*

### REQ-ENGINT: Engineer Integration

- [x] **ENGINT-01** (must): Provide standalone `/banneker:engineer` command that works with existing survey.json. Source: v0.3.0 core requirement. *Outcome: 6-step workflow orchestrator command*
- [x] **ENGINT-02** (must): Work with partial survey data (mid-interview cliff scenarios). Source: v0.3.0 core requirement. *Outcome: Minimum viable survey = Phases 1-3 (55% completeness)*
- [x] **ENGINT-03** (must): Implement mid-survey takeover — cliff detection triggers offer during interview. Source: v0.3.0 features research. *Outcome: Phase boundary offers with state tracking*
- [x] **ENGINT-04** (must): Implement context handoff protocol — explicit summary of what surveyor learned before switching. Source: PITFALLS.md P3 prevention. *Outcome: Dual handoff (surveyor_notes + surveyor-context.md)*
- [x] **ENGINT-05** (should): Track engineer state in `.banneker/state/engineer-state.md` for resume-on-interrupt. Source: REQ-CONT-001 pattern. *Outcome: State management with resume capability*

## Out of Scope (v0.3.0)

| Feature | Reason |
|---------|--------|
| Autonomous decision execution | Destroys user trust; approval gates are table stakes |
| Configurable detection sensitivity | Defer to v0.4.0 after real-world tuning |
| Multi-proposal comparison | Over-engineering for MVP; single best proposal sufficient |
| Decision rollback/undo | Defer to future; users can manually edit architecture-decisions.json |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| CLIFF-01 | Phase 12 | Complete |
| CLIFF-02 | Phase 12 | Complete |
| CLIFF-03 | Phase 15 | Complete |
| CLIFF-04 | Phase 15 | Complete |
| ENGDOC-01 | Phase 11 | Complete |
| ENGDOC-02 | Phase 11 | Complete |
| ENGDOC-03 | Phase 11 | Complete |
| ENGDOC-04 | Phase 11 | Complete |
| ENGDOC-05 | Phase 15 | Complete |
| ENGDOC-06 | Phase 15 | Complete |
| APPROVE-01 | Phase 13 | Complete |
| APPROVE-02 | Phase 13 | Complete |
| APPROVE-03 | Phase 13 | Complete |
| APPROVE-04 | Phase 13 | Complete |
| ENGINT-01 | Phase 11 | Complete |
| ENGINT-02 | Phase 11 | Complete |
| ENGINT-03 | Phase 14 | Complete |
| ENGINT-04 | Phase 14 | Complete |
| ENGINT-05 | Phase 11 | Complete |

---

## Milestone Summary

**Shipped:** 17 of 17 v0.3.0 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-04 as part of v0.3.0 milestone completion*
